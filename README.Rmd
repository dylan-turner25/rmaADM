---
title: "rmaADM"

output:
  github_document:
    toc: true
    toc_depth: 3
---

<!-- README.md is generated from README.Rmd. Please edit that file -->

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.path = "man/figures/README-",
  out.width = "100%"
)
```


```{r setup, include=FALSE, echo = FALSE}
knitr::opts_chunk$set(cache = FALSE,
                      echo = TRUE,
                        fig.path = "man/figures/")
library(knitr)
library(dplyr)
library(devtools)
load_all()

```

The primary exported function of rmaADM package is `get_adm_data`. This function retrieves precompiled data sets that are stored in the package's GitHub repository as a release. Below is an example of how to use this function:
```{r example, echo=TRUE, eval = FALSE}

# install the rmaADM package from GitHub
remotes::install_github("dylan-turner25/rmaADM", force = T)

# load the rmaADM package
library(rmaADM)

# load the 2012 base rate data set. If this is the first 
# time downloading, you'll see a message about the dataset 
# being downloade from github.
df <- get_adm_data(year = 2012, dataset = "baserate")

# the data is cached in the R library folder for the rmaADM package
# if you run the same command again, it will not download the data again
# and will load much faster.
df <- get_adm_data(year = 2012, dataset = "baserate")

# if you want to clear the cache and force the data to be downloaded again,
# you can use the clear_rmaADM_cache function.
clear_rmaADM_cache()

# running the same command again will now download the data again
df <- get_adm_data(year = 2012, dataset = "baserate")


# the get_adm_data function is case-insensitive for dataset names
# and can use the name or record code. All of the following return the 
# same data for the year 2012.
get_adm_data(year = 2012, dataset = "BaseRate")
get_adm_data(year = 2012, dataset = "base_RaTe")
get_adm_data(year = 2012, dataset = "A01010")
get_adm_data(year = 2012, dataset = "a01010")


# to see all the avaliable datasets you can run the helper function list_data_assets
all_data <- rmaADM:::list_data_assets()


```

